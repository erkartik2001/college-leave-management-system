extends base.pug

mixin tableRow({name, id, contact, dob, role, userId, branch, semester})
    <tr id="student-attendance-container" class="${lastAbsents > 2 ? 'bg-red-100' : 'bg-white'} border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
        <th scope="row" class="py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white" onclick="showUserDetail('#{id}')">#{name}</th>
        <td class="py-4 px-6" onclick="showUserDetail('#{id}')">#{id}</td>
        <td class="py-4 px-6">#{contact}</td>
        <td class="py-4 px-6">#{dob}</td>
        <td class="py-4 px-6">#{role}</td>
        <td class="py-4 px-6">#{userId}</td>
        <td class="py-4 px-6">#{branch}</td>
        <td class="py-4 px-6">#{semester}</td>
        <td class="py-4 px-6">
            <div id="#{id}btn" class="border-2 mx-auto w-6 h-6 p-1" onclick="toggleOption('#{id}')">
                <img class="" src="../../../static/more.svg" alt="">
            </div>
            <div id="#{id}option" class="absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none hidden" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
                <div class="py-2" role="none">
                    <!-- Active: "bg-gray-100 text-gray-900", Not Active: "text-gray-700" -->
                    <a href="/admin-dashboard/resources/user/records/#{id}/show" class="text-gray-700 block px-4 py-2 text-sm hover:bg-blue-50 hover:border-l-4 hover:border-r-4 rounded-[3px] border-blue-500" role="menuitem" tabindex="-1" id="menu-item-0">Show</a>
                    <a href="/admin-dashboard/resources/user/records/#{id}/edit" class="text-gray-700 block px-4 py-2 text-sm hover:bg-blue-50 hover:border-l-4 hover:border-r-4 rounded-[3px] border-blue-500" role="menuitem" tabindex="-1" id="menu-item-1">Edit</a>
                    <a href="#" class="text-gray-700 block px-4 py-2 text-sm hover:bg-red-50 hover:border-l-4 hover:border-r-4 rounded-[3px] border-red-500" role="menuitem" tabindex="-1" id="menu-item-2">Delete</a>
                </div>
            </div>
        </td>
    </tr>

block content 
    <div class="w-ful h-full bg-white rounded-xl m-4 shadow-md mt-6 p-8">
        <h1 class="text-center text-3xl font-bold text-[#263238]">User Database</h1>

        <!-- <div id="class-detail-container" class="mt-5 flex flex-wrap flex-row justify-center lg:space-x-4">
            <div class="lg:w-48 sm:w-2/5 w-full sm:mr-4">
                <label for="branch" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Select an Branch</label>
                <select id="branch" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                    <option selected value="AIDS">AIDS</option>
                    <option value="CS">CS</option>
                    <option value="EC">EC</option>
                    <option value="ME">ME</option>
                </select>
            </div>
            <div class="lg:w-48 sm:w-2/5 w-full">
                <label for="semester" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Select an Semester</label>
                <select id="semester" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                    <option selected value="1">1<sup>st</sup></option>
                    <option value="2">2<sup>nd</sup></option>
                    <option value="3">3<sup>rd</sup></option>
                    <option value="4">4<sup>th</sup></option>
                    <option value="5">5<sup>th</sup></option>
                    <option value="6">6<sup>th</sup></option>
                    <option value="7">7<sup>th</sup></option>
                    <option value="8">8<sup>th</sup></option>
                </select>
            </div>
            <div class="lg:w-48 sm:w-2/5 w-full sm:mr-4">
                <label for="section" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Select an Section</label>
                <select id="section" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                    <option selected value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                </select>
            </div>
            <div class="lg:w-48 sm:w-2/5 w-full">
                <button class="w-full h-10 bg-gradient-to-tr from-blue-600 to-blue-400 mt-7 rounded-xl text-white font-bold text-md" onclick="getStudentList()">Get Student List</button>
            </div>
        </div>   -->

        <div id="student-container" class="">
            <div class=" relative shadow-md sm:rounded-lg mt-7">
                <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                        <tr>
                            <th scope="col" class="py-3 px-6">Name</th>
                            <th scope="col" class="py-3 px-6">Id</th>
                            <th scope="col" class="py-3 px-6">Contact</th>
                            <th scope="col" class="py-3 px-6">Dob</th>
                            <th scope="col" class="py-3 px-6">Role</th>
                            <th scope="col" class="py-3 px-6">User Id</th>
                            <th scope="col" class="py-3 px-6">Branch</th>
                            <th scope="col" class="py-3 px-6">semester</th>
                            <th scope="col" class="py-3 px-6 w-20"></th>
                        </tr>
                    </thead>
                    <tbody id="student-attendance-container" >
                        <!-- container to populate student list  -->
                        each user in users
                            + tableRow(user)
                        
                    </tbody>
                </table>
            </div>
        </div>

        <div class="flex items-center justify-between bg-white px-4 py-3 sm:px-6 mt-4"> 
            <div class="hidden sm:flex sm:flex-1 sm:items-center justify-center">
                <nav class="isolate inline-flex -space-x-px rounded-md shadow-sm" aria-label="Pagination">
                    <a href="/admin-dashboard/resources/user?page=#{page-1}" class="relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">
                        <span class="sr-only">Previous</span>
                        <!-- Heroicon name: mini/chevron-left -->
                        <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                            <path fill-rule="evenodd" d="M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z" clip-rule="evenodd" />
                        </svg>
                    </a>
                    <a href="#" aria-current="page" class="relative z-10 inline-flex items-center border border-indigo-500 bg-indigo-50 px-4 py-2 text-sm font-medium text-indigo-600 focus:z-20">#{page}</a>
                    <a href="/admin-dashboard/resources/user?page=#{page+1}" class="relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">
                        <span class="sr-only">Next</span>
                        <!-- Heroicon name: mini/chevron-right -->
                        <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                            <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                        </svg>
                    </a>
                </nav>
            </div>
        </div>
    </div>



    script(src="../../../../../javascript/admin/user/userDatabase.js")